明白，你想理解 **“调用合约本质上是向目标合约发送 calldata”** 这句话的意思，我给你详细拆解一下。

---

# 🌱 **1️⃣ 什么是 calldata**

- **calldata** 是以太坊 EVM 的一种数据区域，用来存放 **外部调用传入合约的参数**。
    
- 特点：
    
    - 只读（合约内部不能修改 calldata）
        
    - 按 ABI 规则编码参数（静态类型 32 字节对齐，动态类型用偏移量 + 内容）
        
    - 每笔交易的输入数据都会包含 calldata
        

---

# 🌱 **2️⃣ 调用合约的本质**

当你在 Remix 或任何钱包里调用合约函数时：

1. 你选择了 **哪个合约** 和 **哪个函数**
    
2. 你输入了 **参数**
    
3. 以太坊客户端会根据 **ABI 编码规则** 将函数选择器 + 参数编码成 **calldata**
    
4. 交易发送到区块链 → EVM 根据 calldata 去找到对应函数并执行
    

---

### 🔹 举例

合约：

```solidity
contract Test {
    function add(uint256 x, uint256 y) external pure returns(uint256) {
        return x + y;
    }
}
```

- 调用：`add(3, 5)`
    
- 编码后的 calldata（ABI）可能是：
    

```
0x771602f70000000000000000000000000000000000000000000000000000000000000003
0000000000000000000000000000000000000000000000000000000000000005
```

- 前 4 字节 `0x771602f7` → 函数选择器
    
- 后面每个参数 32 字节 → `x=3, y=5`
    

> 所以**调用函数的本质**就是：把这些字节（calldata）发给合约，让 EVM 根据选择器找到函数并执行。

---

# 🌱 **3️⃣ 为什么 Remix 显示 input**

- 在 Remix 或区块浏览器里，你会看到交易详细信息里的 `input` 字段
    
- `input` 就是这笔交易的 **calldata**，即 EVM 收到的原始字节数据
    
- 通过 ABI 解码，才能还原出你传的函数名和参数
    

---


